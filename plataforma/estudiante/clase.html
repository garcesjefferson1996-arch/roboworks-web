<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Clase - RoboWorks</title>
    <link rel="stylesheet" href="/css/plataforma.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="/assets/icons/favicon.ico">
</head>
<body class="plataforma-body">
    <!-- Cabecera -->
    <header class="plataforma-header">
        <a href="index.html" class="header-back">
            <i class="fas fa-arrow-left"></i>
        </a>
        <div class="header-logo">
            <img src="/assets/icons/logo.png" alt="RoboWorks Logo" height="30">
            <span class="logo-text">RoboWorks</span>
        </div>
        <div class="header-user">
            <span class="user-avatar" id="user-avatar">DF</span>
        </div>
    </header>

    <main class="clase-container">
        <!-- Encabezado de la Clase -->
        <section class="clase-hero">
            <span class="clase-etiqueta">M√≥dulo 1 ¬∑ Clase 1</span>
            <h1 class="clase-titulo" id="titulo-personalizado">Bienvenido al Mundo Roblox</h1>
            <p class="clase-subtitulo">La aventura de crear tecnolog√≠a con valores y prop√≥sito.</p>
            
            <div class="clase-info-horario">
                <div class="info-item">
                    <i class="far fa-calendar"></i>
                    <span id="fecha-hoy">Cargando fecha...</span>
                </div>
                <div class="info-item">
                    <i class="far fa-clock"></i>
                    <span>4:00 PM - 5:30 PM (90 min)</span>
                </div>
            </div>
        </section>

        <!-- Tarjeta de Objetivo -->
        <section class="clase-card card-objetivo">
            <h2><i class="fas fa-bullseye"></i> Objetivo de la Clase</h2>
            <p>Acompa√±ar al estudiante en su primer encuentro con Roblox Studio, ayud√°ndolo a descubrir el entorno digital con <strong>confianza, curiosidad y asombro</strong>, comprendiendo que la tecnolog√≠a es un espacio para crear con sentido, no solo para consumir.</p>
            <div class="mensaje-destacado">
                <i class="fas fa-heart"></i>
                <p><em>‚ÄúAqu√≠ no hay errores, solo intentos.‚Äù</em></p>
            </div>
        </section>

        <!-- Tarjeta de Acceso a Zoom -->
        <section class="clase-card card-zoom">
            <h2><i class="fas fa-video"></i> Acceso a la Clase Virtual</h2>
            <p>Tu sesi√≥n en vivo est√° programada. El enlace se activar√° 10 minutos antes del inicio.</p>
            
            <div class="zoom-countdown">
                <i class="fas fa-hourglass-half" id="icono-estado"></i>
                <div>
                    <p class="countdown-text" id="texto-estado">Estado de la clase:</p>
                    <p class="countdown-tiempo" id="contador-tiempo">Calculando...</p>
                </div>
            </div>
            
            <!-- BOT√ìN PRINCIPAL - ENLACE A ZOOM -->
            <a href="#" id="boton-zoom" class="btn btn-primario btn-grande" target="_blank">
                <i class="fas fa-door-open"></i> Unirme a la Clase en Zoom
            </a>
            <p class="nota-zoom"><small><i class="fas fa-info-circle"></i> Necesitar√°s tener instalada la aplicaci√≥n Zoom.</small></p>
            
            <div class="zoom-preparacion">
                <h3><i class="fas fa-clipboard-check"></i> Preparaci√≥n Recomendada:</h3>
                <ul>
                    <li><i class="fas fa-check-circle"></i> Tener instalado <strong>Roblox Studio</strong>.</li>
                    <li><i class="fas fa-check-circle"></i> Conexi√≥n estable a internet.</li>
                    <li><i class="fas fa-check-circle"></i> Auriculares (opcional, pero recomendado).</li>
                </ul>
            </div>
        </section>

        <!-- Tarjeta de Contenidos -->
        <section class="clase-card card-contenidos">
            <h2><i class="fas fa-map-signs"></i> Lo que Exploraremos Hoy</h2>
            <ul class="lista-contenidos">
                <li><i class="fas fa-compass"></i> <strong>¬øQu√© es Roblox?</strong> M√°s que jugar, es crear.</li>
                <li><i class="fas fa-desktop"></i> <strong>Primer contacto con Roblox Studio:</strong> La puerta a tu creatividad.</li>
                <li><i class="fas fa-gamepad"></i> <strong>Interfaz, c√°mara y movimiento:</strong> Conoce tu nuevo taller.</li>
                <li><i class="fas fa-play-circle"></i> <strong>Exploraci√≥n guiada y Play/Stop:</strong> Aprender probando.</li>
            </ul>
            <blockquote class="cita-filosofia">
                <p>‚ÄúTodo gran proyecto empieza entendiendo el lugar donde est√°s.‚Äù</p>
            </blockquote>
        </section>

        <!-- Tarjeta de Materiales -->
        <section class="clase-card card-materiales">
            <h2><i class="fas fa-paperclip"></i> Materiales de esta Clase</h2>
            <p>Descarga estos recursos para prepararte o repasar.</p>
            <div class="materiales-lista">
                <a href="#" class="material-item">
                    <div class="material-icono">
                        <i class="far fa-file-pdf"></i>
                    </div>
                    <div class="material-info">
                        <h4>Gu√≠a: Primeros pasos en Roblox Studio</h4>
                        <p>PDF ¬∑ 2.1 MB</p>
                    </div>
                    <i class="fas fa-download"></i>
                </a>
                <a href="#" class="material-item">
                    <div class="material-icono">
                        <i class="far fa-play-circle"></i>
                    </div>
                    <div class="material-info">
                        <h4>Video: Tour por la interfaz</h4>
                        <p>MP4 ¬∑ 5 min</p>
                    </div>
                    <i class="fas fa-download"></i>
                </a>
            </div>
        </section>

        <!-- Mensaje Final / Cierre -->
        <section class="clase-card card-cierre">
            <div class="cierre-contenido">
                <i class="fas fa-seedling icono-cierre"></i>
                <h3>Recuerda</h3>
                <p>"Hoy no aprendimos a programar todav√≠a. Hoy aprendimos algo m√°s importante: <strong>que somos capaces de entrar a un mundo nuevo sin miedo."</strong></p>
                <p class="texto-pequeno">Este m√≥dulo es la semilla del curso. Si aqu√≠ te sientes valorado, acompa√±ado y seguro, todo florece.</p>
            </div>
        </section>
    </main>

    <!-- Men√∫ de Navegaci√≥n Inferior (Mobile) -->
    <nav class="plataforma-nav">
        <a href="index.html" class="nav-item">
            <i class="fas fa-home"></i>
            <span>Inicio</span>
        </a>
        <a href="curso.html" class="nav-item">
            <i class="fas fa-book-open"></i>
            <span>Mi Curso</span>
        </a>
        <a href="clase.html" class="nav-item activo">
            <i class="fas fa-video"></i>
            <span>Clase</span>
        </a>
        <a href="recursos.html" class="nav-item">
            <i class="fas fa-folder-open"></i>
            <span>Recursos</span>
        </a>
        <a href="progreso.html" class="nav-item">
            <i class="fas fa-chart-line"></i>
            <span>Progreso</span>
        </a>
    </nav>

    <!-- Script con todas las funciones autom√°ticas -->
    <script>
        // CONFIGURACI√ìN - ¬°REEMPLAZA ESTO!
        const CONFIG = {
            enlaceZoom: "https://zoom.us/j/1234567890", // üéØ PON TU ENLACE ZOOM PRO AQU√ç
            horaClase: 16, // 4:00 PM (formato 24h)
            duracionClase: 90, // minutos
            usuarioActual: "david.fiallos" // Cambia seg√∫n qui√©n entre
        };

        document.addEventListener('DOMContentLoaded', function() {
            // 1. FECHA AUTOM√ÅTICA EN ESPA√ëOL
            function mostrarFechaActual() {
                const opciones = { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                };
                const fecha = new Date();
                const fechaFormateada = fecha.toLocaleDateString('es-EC', opciones);
                const fechaCapitalizada = fechaFormateada.charAt(0).toUpperCase() + 
                                        fechaFormateada.slice(1);
                document.getElementById('fecha-hoy').textContent = fechaCapitalizada;
            }

            // 2. ESTADO INTELIGENTE DE LA CLASE
            function actualizarEstadoClase() {
                const ahora = new Date();
                const horaClase = new Date();
                
                // Configurar hora de la clase (4:00 PM)
                horaClase.setHours(CONFIG.horaClase, 0, 0, 0);
                const horaFinClase = new Date(horaClase.getTime() + CONFIG.duracionClase * 60000);
                
                const diferenciaMs = horaClase - ahora;
                const diferenciaMin = Math.floor(diferenciaMs / (1000 * 60));
                const diferenciaHoras = Math.floor(diferenciaMin / 60);
                
                const contadorElem = document.getElementById('contador-tiempo');
                const textoEstadoElem = document.getElementById('texto-estado');
                const iconoEstadoElem = document.getElementById('icono-estado');
                const botonZoom = document.getElementById('boton-zoom');
                
                // Configurar enlace de Zoom
                botonZoom.href = CONFIG.enlaceZoom;
                
                // Determinar estado
                if (ahora < horaClase) {
                    // CLASE FUTURA
                    if (diferenciaMin > 10) {
                        textoEstadoElem.textContent = "La clase comienza en:";
                        if (diferenciaHoras > 0) {
                            contadorElem.textContent = `${diferenciaHoras}h ${diferenciaMin % 60}m`;
                        } else {
                            contadorElem.textContent = `${diferenciaMin} minutos`;
                        }
                        iconoEstadoElem.className = "fas fa-hourglass-half";
                        contadorElem.style.color = "var(--color-alerta)";
                        
                        botonZoom.classList.add('btn-deshabilitado');
                        botonZoom.innerHTML = '<i class="fas fa-lock"></i> El enlace se activar√° 10 min antes';
                        botonZoom.onclick = (e) => e.preventDefault();
                    } else {
                        // Menos de 10 minutos antes
                        textoEstadoElem.textContent = "¬°La clase empieza pronto!";
                        contadorElem.textContent = `En ${diferenciaMin} minutos`;
                        iconoEstadoElem.className = "fas fa-hourglass-end";
                        contadorElem.style.color = "var(--color-secundario)";
                        
                        botonZoom.classList.remove('btn-deshabilitado');
                        botonZoom.innerHTML = '<i class="fas fa-door-open"></i> Unirme a la Clase en Zoom';
                    }
                } else if (ahora >= horaClase && ahora <= horaFinClase) {
                    // CLASE EN PROGRESO
                    textoEstadoElem.textContent = "¬°Clase en sesi√≥n!";
                    const minutosTranscurridos = Math.floor((ahora - horaClase) / 60000);
                    contadorElem.textContent = `Minuto ${minutosTranscurridos} de ${CONFIG.duracionClase}`;
                    iconoEstadoElem.className = "fas fa-play-circle";
                    contadorElem.style.color = "var(--color-exito)";
                    
                    botonZoom.classList.remove('btn-deshabilitado');
                    botonZoom.innerHTML = '<i class="fas fa-door-open"></i> Unirme a la Clase en Zoom';
                } else {
                    // CLASE FINALIZADA
                    textoEstadoElem.textContent = "Clase completada";
                    contadorElem.textContent = "Finaliz√≥ hace " + Math.abs(Math.floor((ahora - horaFinClase) / 60000)) + " min";
                    iconoEstadoElem.className = "fas fa-check-circle";
                    contadorElem.style.color = "var(--color-texto-suave)";
                    
                    botonZoom.classList.add('btn-deshabilitado');
                    botonZoom.innerHTML = '<i class="fas fa-check-circle"></i> Clase Finalizada';
                    botonZoom.removeAttribute('href');
                    botonZoom.onclick = (e) => e.preventDefault();
                }
            }

            // 3. CONFIGURAR USUARIO PERSONALIZADO
            function configurarUsuario() {
                const usuario = CONFIG.usuarioActual;
                const partes = usuario.split('.');
                const iniciales = partes[0].charAt(0).toUpperCase() + 
                                 (partes[1] ? partes[1].charAt(0).toUpperCase() : '');
                
                // Actualizar avatar
                const avatarElement = document.getElementById('user-avatar');
                if (avatarElement) {
                    avatarElement.textContent = iniciales;
                    avatarElement.title = `Usuario: ${usuario}`;
                }
                
                // Personalizar saludo para David
                if (usuario === 'david.fiallos') {
                    const nombre = partes[0].charAt(0).toUpperCase() + partes[0].slice(1);
                    document.getElementById('titulo-personalizado').innerHTML = 
                        `Bienvenido al Mundo Roblox, <span style="color: var(--color-primario);">${nombre}</span>`;
                }
            }

            // EJECUTAR TODAS LAS FUNCIONES
            mostrarFechaActual();
            actualizarEstadoClase();
            configurarUsuario();
            
            // Actualizar cada minuto
            setInterval(actualizarEstadoClase, 60000);
            
            // Actualizar la hora cada minuto (solo visual)
            setInterval(() => {
                const ahora = new Date();
                document.getElementById('fecha-hoy').textContent = 
                    ahora.toLocaleDateString('es-EC', { 
                        weekday: 'long', 
                        year: 'numeric', 
                        month: 'long', 
                        day: 'numeric' 
                    }).charAt(0).toUpperCase() + 
                    ahora.toLocaleDateString('es-EC', { 
                        weekday: 'long', 
                        year: 'numeric', 
                        month: 'long', 
                        day: 'numeric' 
                    }).slice(1);
            }, 60000);
        });
    </script>
</body>
</html>